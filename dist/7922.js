"use strict";(self.webpackChunk_adobe_helix_project_boilerplate=self.webpackChunk_adobe_helix_project_boilerplate||[]).push([[7922],{7922:(e,n,t)=>{t.a(e,(async(e,o)=>{try{t.r(n),t.d(n,{hideModal:()=>u,showModal:()=>h});var s=t(3927),a=t(2246),d=t(5545),i=e([a,d]);[a,d]=i.then?(await i)():i;const{videoIdRegex:l}=a.ci,c=new a.bO;class r{constructor(e){this.videoId=e,this.blockName="modal",c.register(this.videoId,this.blockName,(e=>(0,a.Hj)(e,this.videoId,this.blockName)))}unregister(){c.unregister(this.videoId,this.blockName)}}const p="modal-hidden",m=()=>{const e=(0,d.n)("div",{classes:["modal-background",p]});e.addEventListener("click",(()=>{h()}));const n=e=>{"Escape"===e.key&&h()},t=(0,d.n)("div",{classes:"modal-content"});e.appendChild(t),e.style="height: 0; opacity: 0;",document.body.appendChild(e);const o=(0,d.ce)("Close modal"),i=(0,d.n)("button",{classes:"modal-close-button",props:{"aria-label":`${o}`}}),c=(0,d.n)("span",{classes:["icon","icon-close"]});i.append(c),e.appendChild(i),i.addEventListener("click",(()=>h())),(0,d.sT)(i);const m=()=>{t.innerHTML="",t.className="modal-content"};function h(){let t;e.classList.add(p),window.removeEventListener("keydown",n),document.body.classList.remove("disable-scroll"),document.querySelector(".modal-content video")?.pause(),document.querySelector(".modal-content iframe")?.setAttribute("src","");const o=n=>{n.target===e&&(m(),t&&e.removeEventListener("transitioncancel",t))};t=n=>{n.target===e&&e.removeEventListener("transitionend",o)},e.addEventListener("transitionend",o,{once:!0}),e.addEventListener("transitioncancel",t,{once:!0})}return{showModal:async function(o,{beforeBanner:c,beforeIframe:h,classes:u=[]}={}){if(await(0,s.y6)(`${window.hlx.codeBasePath}/common/modal/modal-component.css`),e.style="",window.addEventListener("keydown",n),o&&"string"!=typeof o)m(),t.classList.add(...u),t.append(o),t.appendChild(i);else if(o){m();let e=null;if((0,a.Ty)(o))e=(0,d.n)("video",{classes:"modal-video",props:{src:o,controls:"",autoplay:"autoplay",playsinline:""}}),t.append(e);else if(a.Ys){let n;const s=o.match(l);s&&([n]=s),new r(n),e=(0,a.g5)(null,o,"modal-video",{autoplay:"any",disablePictureInPicture:!0,loop:!1,muted:!1,playsinline:!0,title:"video",language:document.documentElement.lang},!1,n),t.append(e)}else e=(0,a.hw)(o,{parentEl:t,classes:"modal-video"});if(c){const n=(0,d.n)("div",{classes:"modal-before-banner"});n.addEventListener("click",(e=>e.stopPropagation())),n.appendChild(c),e.parentElement.insertBefore(n,e)}if(h){const n=(0,d.n)("div",{classes:"modal-before-iframe"});n.appendChild(h),e.parentElement.insertBefore(n,e)}e.parentElement.insertBefore(i,e)}e.classList.remove(p),document.body.classList.add("disable-scroll"),t.addEventListener("click",(e=>{e.stopPropagation()}))},hideModal:h}},{showModal:h,hideModal:u}=m();o()}catch(e){o(e)}}))}}]);